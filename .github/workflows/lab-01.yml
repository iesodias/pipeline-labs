name: Schedule Trigger Workflow

# Executa em horários programados (cron)
on:
  schedule:
    # Executa todo dia às 9:00 UTC (6:00 Brasília)
    - cron: '0 9 * * *'
    # Executa toda segunda-feira às 14:00 UTC (11:00 Brasília)
    - cron: '0 14 * * 1'
  
  # Permite execução manual para testes
  workflow_dispatch:

jobs:
  scheduled-job:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout código
      uses: actions/checkout@v4
    
    - name: Informações do Schedule
      run: |
        echo "Workflow disparado por SCHEDULE"
        echo "Data atual: $(date)"
        echo "Hora UTC: $(date -u)"
        echo "Timezone: $(date +%Z)"
    
    - name: Relatório diário automatizado
      run: |
        echo "RELATÓRIO DIÁRIO AUTOMATIZADO"
        echo "================================"
        echo "Total de commits: $(git rev-list --all --count)"
        echo "Contribuidores únicos: $(git shortlog -sn | wc -l)"
        echo "Último commit: $(git log -1 --pretty=format:'%h - %s (%an, %ar)')"